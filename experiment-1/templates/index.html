<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Experiment 1</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>Experiment 1: Generate N Even Numbers</h1>
        <p><strong>Name:</strong> Syed Tajbir Ahmed</p>
        <p><strong>Student ID:</strong> 20701016</p>

        <form id="numberForm">
            <label for="n">Enter a number:</label>
            <input type="number" id="n" name="n" min="1" required>
            <button type="submit">Generate</button>
        </form>

        <div id="loading" class="hidden">
            <div class="spinner"></div>
            <p>Generating numbers...</p>
        </div>

        <div id="result"></div>
    </div>

    <script>
        const form = document.getElementById('numberForm');
        const loading = document.getElementById('loading');
        const result = document.getElementById('result');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            result.innerText = '';
            loading.classList.remove('hidden');

            const n = document.getElementById('n').value;
            try {
                const res = await fetch(`/generate?n=${n}`);
                const data = await res.json();

                loading.classList.add('hidden');
                result.innerHTML = `<h3>Generated Even Numbers:</h3><p>${data.numbers.join(', ')}</p>`;
            } catch (err) {
                loading.classList.add('hidden');
                result.innerText = 'An error occurred. Please try again.';
            }
        });
    </script>
</body>
</html>
